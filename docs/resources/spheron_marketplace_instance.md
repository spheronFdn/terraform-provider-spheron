---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "Spheron Marketplace Instance Resource - terraform-provider-spheron"
subcategory: ""
description: |-
  Marketplace instance resource
---

# Spheron Marketplace Instance (Resource)

Instnce resource

```
resource "spheron_marketplace_instance" "market_instance_test" {
  name          = "Postgres"
  machine_image = "Ventus Nano"

  env = [
    {
      key   = "POSTGRES_PASSWORD"
      value = "passSecrettt"
    },
    {
      key   = "POSTGRES_USER"
      value = "admin"
    },
    {
      key   = "POSTGRES_DB"
      value = "myDB"
    }
  ]

  region = "any"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `machine_image` (String) Machine image name which should be used for deploying instance.
- `name` (String) The name of the marketplace app.
- `region` (String) Region to which to deploy instance.
- `replicas` (Number) Number of instance replicas.
- `storage` (Number) Instance storage in GB. Value cannot exceed 1024GB

### Optional

- `env` (Attributes Set) The list of environmetnt variables. NOTE: Some marketplace apps have required env variables that must be provided. (see [below for nested schema](#nestedatt--env))
- `persistent_storage` (Attributes) Persistent storage that will be attached to the instance. (see [below for nested schema](#nestedatt--persistent_storage))

### Read-Only

- `id` (String) Id or the instance.
- `ports` (Attributes List) The list of port mappings (see [below for nested schema](#nestedatt--ports))

<a id="nestedatt--env"></a>
### Nested Schema for `env`

Required:

- `key` (String) Environment variable key.
- `value` (String) Environment variable value.


<a id="nestedatt--persistent_storage"></a>
### Nested Schema for `persistent_storage`

Required:

- `class` (String) Storage class. Available classes are HDD, SSD and NVMe
- `mount_point` (String) Attachement point used fot attaching persistent storage.
- `size` (Number) Persistent storage in GB. Value cannot exceed 1024GB


<a id="nestedatt--ports"></a>
### Nested Schema for `ports`

Read-Only:

- `container_port` (Number) Container port that will be exposed.
- `exposed_port` (Number) The port container port will be exposed to. Exposed port will be know and available for use after the deployment.

### Awailable marketplace apps with necessary environment variables:

|name            |environment variables|
|----------------|---------------------|
|Redis           |REDIS_AOF_ENABLED, ALLOW_EMPTY_PASSWORD, REDIS_PASSWORD|
|MongoDB         |MONGO_INITDB_ROOT_USERNAME, MONGO_INITDB_ROOT_PASSWORD|
|IPFS            |                     |
|Substrate       |                     |
|Hypersign       |MY_ROOT_PASSWORD, MONIKER, LINK_KEY, gitrep, SNAP_RPC, TOKEN|
|Postgres        |POSTGRES_USER, POSTGRES_PASSWORD, POSTGRES_DB|
|Grafana         |                     |
|Kyve            |POOL, MNEMONIC, LINK_ARWEAVE_WALLET, NETWORK|
|Stride          |MY_ROOT_PASSWORD, MONIKER, LINK_KEY, GITHUB_REPOSITORY, SNAP_RPC, TOKEN|
|MySQL           |MYSQL_ROOT_PASSWORD  |
|HashiCorp Vault |VAULT_DEV_ROOT_TOKEN_ID, VAULT_DEV_LISTEN_ADDRESS|
|Reef            |NETWORK, ARCHIVE     |
|Sui             |                     |
|Mantle DTL      |URL, DATA_TRANSPORT_LAYER__L1_RPC_ENDPOINT, DATA_TRANSPORT_LAYER__L2_RPC_ENDPOINT, DATA_TRANSPORT_LAYER__SYNC_FROM_L2, DATA_TRANSPORT_LAYER__L2_CHAIN_ID, DATA_TRANSPORT_LAYER__ADDRESS_MANAGER, DATA_TRANSPORT_LAYER__SYNC_FROM_L1, DATA_TRANSPORT_LAYER__SYNC_FROM_L2, DATA_TRANSPORT_LAYER__DB_PATH, DATA_TRANSPORT_LAYER__SERVER_PORT, DATA_TRANSPORT_LAYER__TRANSACTIONS_PER_POLLING_INTERVAL, DATA_TRANSPORT_LAYER__CONFIRMATIONS, DATA_TRANSPORT_LAYER__POLLING_INTERVAL, DATA_TRANSPORT_LAYER__LOGS_PER_POLLING_INTERVAL, DATA_TRANSPORT_LAYER__DANGEROUSLY_CATCH_ALL_ERRORS, DATA_TRANSPORT_LAYER__SERVER_HOSTNAME, DATA_TRANSPORT_LAYER__L1_START_HEIGHT|
|Mantle Verifier |ETH1_HTTP, SEQUENCER_CLIENT_HTTP, ROLLUP_STATE_DUMP_PATH, ROLLUP_CLIENT_HTTP, ROLLUP_BACKEND, ETH1_CTC_DEPLOYMENT_HEIGHT, RETRIES, ROLLUP_VERIFIER_ENABLE, ETH1_SYNC_SERVICE_ENABLE, ETH1_CONFIRMATION_DEPTH, ROLLUP_POLL_INTERVAL_FLAG, ROLLUP_ENABLE_L2_GAS_POLLING, RPC_ENABLE, RPC_ADDR, RPC_PORT, RPC_API, RPC_CORS_DOMAIN, RPC_VHOSTS, WS, WS_ADDR, WS_PORT, WS_API, WS_ORIGINS, CHAIN_ID, DATADIR, GASPRICE, GCMODE, IPC_DISABLE, NETWORK_ID, NO_USB, NO_DISCOVER, TARGET_GAS_LIMIT, USING_BVM, BLOCK_SIGNER_KEY, BLOCK_SIGNER_ADDRESS, L2_BLOCK_GAS_LIMIT|
|Drupal          |                     |
|Deso Node       |GLOG_V, GLOG_VMODULE, TESTNET, EXTERNAL_IPS, CONNECT_IPS, MINER_PUBLIC_KEYS, NUM_MINING_THREADS, ADD_IPS, ADD_SEEDS, ADMIN_PUBLIC_KEYS, SUPER_ADMIN_PUBLIC_KEYS, PROTOCOL_PORT, API_PORT, RATE_LIMIT_FEERATE, MIN_FEERATE, TARGET_OUTBOUND_PEERS, MAX_PEERS, DATA_DIR, ONE_INBOUND_PER_IP, STALL_TIMEOUT_SECONDS, PRIVATE_MODE, TXINDEX, STARTER_DESO_NANOS, STARTER_PREFIX_NANOS_MAP, STARTER_DESO_SEED, GLOBAL_STATE_REMOTE_NODE, GLOBAL_STATE_REMOTE_SECRET, ACCESS_CONTROL_ALLOW_ORIGINS, SECURE_HEADER_DEVELOPMENT, SECURE_HEADER_ALLOW_HOSTS, AMPLITUDE_KEY, AMPLITUDE_DOMAIN, TWILIO_ACCOUNT_SID, TWILIO_AUTH_TOKEN, TWILIO_VERIFY_SERVICE_ID, MIN_SATOSHIS_FOR_PROFILE, SUPPORT_EMAIL, MAX_BLOCK_TEMPLATES_CACHE, MIN_BLOCK_UPDATE_INTERVAL, BLOCK_CYPHER_API_KEY, MEMPOOL_DUMP_DIR, DISABLE_NETWORKING, IGNORE_INBOUND_INVS, READ_ONLY_MODE, BITCOIN_CONNECT_PEER, LOG_DB_SUMMARY_SNAPSHOTS, SHOW_PROCESSING_SPINNERS, IGNORE_UNMINED_BITCOIN, GCP_CREDENTIALS_PATH, GCP_BUCKET_NAME, CADDY_FILE|
|MassBit Route Gateway|TOKEN, GW_ID         |
|Arbitrum One Node|                     |
|Filecoin Mainnet Node|                     |
|Shardeum Testnet Validator|EXT_IP, INT_IP, EXISTING_ARCHIVERS, APP_MONITOR, DASHPASS, DASHPORT, SERVERIP, LOCALLANIP, SHMEXT, SHMINT|

### Available machine images

|name            |cpu|memory|
|----------------|---|------|
|Glacies Micro   |2  |1Gi   |
|Glacies Nano    |2  |0.5Gi |
|Ventus Micro    |1  |1Gi   |
|Ignis 2x Large  |16 |64Gi  |
|Ventus X-Large  |4  |16Gi  |
|Terra Large     |8  |16Gi  |
|Ventus Small    |1  |2Gi   |
|Terra 2x Large  |8  |32Gi  |
|Terra Nano      |2  |1Gi   |
|Ventus Medium   |2  |4Gi   |
|Ventus Nano     |1  |0.5Gi |
|Glacies Small   |2  |2Gi   |
|Terra Small     |4  |4Gi   |
|Ignis Large     |8  |32Gi  |
|Ventus Large    |2  |8Gi   |
|Terra Medium    |4  |8Gi   |
|Ventus 2x Medium|2  |4Gi   |
|Terra 3x Large  |10 |32Gi  |
|Ventus 2x Large |4  |8Gi   |
|Terra Small 1Ti |4  |4Gi   |
|Terra Large Ti  |8  |16Gi  |

### Available regions
- us-east
- us-west
- us-central
- eu-west
- any